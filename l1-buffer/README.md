# L1 Buffer Graphing Tool 
### Intro
This is a web tool to create graphs to visualize L1 utilization on a per operation basis.

### Codebase
Built using _Streamlit_ for the interface, along with _Pandas_ and _MatPlotLib_ for data manipulation and graph creation. The main file containing the web interface and data manipulation is `streamlit_app.py`. The dependencies are listed in `requirements.txt`, and the `.streamlit` file contains configurations for UI styling and file size limitations.

### Usage

#### How it Works
To utilize the tool, a user selects one of three address range configurations:
- **Half**: Graphs the address range between 0 to 1 million.
- **Full**: Graphs the address range between 0 to 1.5 million.
- **Optimized**: Graphs the address range to optimize and fill horizontal space on the graph.

With any configuration, the horizontal access (address range) is labeled every 100k.

<img width="500" alt="Screenshot 2024-09-10 at 11 35 43 AM" src="https://github.com/user-attachments/assets/d3d4be4b-5a1b-4785-8b1d-14d4e8ebba51">

Then, the user uploads a `.sqlite` file with the operation data, which is generated by running a process with the [TT-NN profiler](https://docs.tenstorrent.com/ttnn/latest/ttnn/usage.html#visualize-using-web-browser).

<img width="500" alt="Screenshot 2024-09-10 at 11 38 40 AM" src="https://github.com/user-attachments/assets/7e83831a-8b70-41b0-b513-74ed513c2592">

#### Results
After a few seconds, the tool generates a graph where each on-device operation is plotted along the vertical axis. The operations are arranged in chronological order: earlier operations are positioned at the top, while later operations are positioned at the bottom.

<img width="500" alt="Screenshot 2024-09-10 at 11 44 57 AM" src="https://github.com/user-attachments/assets/94abaedd-b668-4395-a9af-21eb1836e1e1">

At the bottom of the graph, there is a table showing each buffer labeled with with operation ID, operation name, address, and the size of the buffer.

<img width="500" alt="Screenshot 2024-09-10 at 11 44 33 AM" src="https://github.com/user-attachments/assets/1df2c95c-dd63-4ee9-8035-0c0c3581a6a3">

### Run Locally
To run the tool locally, install the requirements from requirements.txt using the command `pip install -r requirements.txt`. Then, within the directory, run the command `streamlit run streamlit_app.py`. The web tool will default to opening at http://localhost:8501/, unless port 8501 is already in use.